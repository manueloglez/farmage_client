(this.webpackJsonpfarmage_client=this.webpackJsonpfarmage_client||[]).push([[0],{163:function(e,t,n){},167:function(e,t,n){},187:function(e,t){},200:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),a=n(41),r=n.n(a),o=(n(163),n(17)),s=n(11),l=n(26),d=(n(164),n(165),n(166),n(167),"https://farmageapi.herokuapp.com/api/v1"),j=function(e){return fetch("".concat(d,"/session"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()}))},u=function(){return fetch("".concat(d,"/session"),{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"}})},h=function(){return fetch("".concat(d,"/users/current"),{credentials:"include"}).then((function(e){return e.json()}))},b=function(e){return fetch("".concat(d,"/users"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()}))},f=function(){return fetch("".concat(d,"/fields"),{credentials:"include"}).then((function(e){return e.json()}))},m=function(e){return fetch("".concat(d,"/fields"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()}))},p=function(e){return fetch("".concat(d,"/fields/").concat(e),{credentials:"include"}).then((function(e){return e.json()}))},x=function(e){return fetch("".concat(d,"/fields/").concat(e),{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"}})},O=function(e){return fetch("".concat(d,"/users/").concat(e,"/polygons"),{credentials:"include"}).then((function(e){return e.json()}))},g=function(e){return fetch("".concat(d,"/fields/").concat(e,"/polygons"),{credentials:"include"}).then((function(e){return e.json()}))},y=function(e,t){return fetch("".concat(d,"/fields/").concat(e,"/polygons"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()}))},v=function(e){return fetch("".concat(d,"/polygons/").concat(e),{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"}})},w=n(15),C=n(225),S=n(216),P=n(226),k=n(203),I=n(43),T=n(217),_=n(1),D=function(e){return Object(c.useEffect)((function(){console.log(e)}),[]),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(C.a,{inverted:!0,textAlign:"center",style:{minHeight:700,padding:"1em 0em"},vertical:!0,children:Object(_.jsxs)(S.a,{text:!0,children:[Object(_.jsx)(P.a,{as:"h1",content:"Farmage",inverted:!0,style:{fontSize:"6em",fontWeight:600,marginBottom:0,marginTop:"2em"}}),Object(_.jsx)(P.a,{as:"h2",content:"Keeping your fields organized.",inverted:!0,style:{fontSize:"2em",fontWeight:"normal",marginTop:"1em",marginBottom:"1em"}}),e.user?Object(_.jsx)(w.b,{children:Object(_.jsx)(w.b,{to:"/fields",children:Object(_.jsx)(k.a,{color:"teal",size:"huge",children:"Go to your fields"})})}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(w.b,{to:"/sign_in",children:Object(_.jsx)(k.a,{color:"teal",size:"huge",children:"Log in"})}),Object(_.jsx)(w.b,{to:"/sign_up",children:Object(_.jsxs)(k.a,{color:"teal",size:"huge",children:["Get Started",Object(_.jsx)(I.a,{name:"right arrow"})]})})]})]})}),Object(_.jsx)(C.a,{style:{padding:"8em 0em"},vertical:!0,children:Object(_.jsxs)(S.a,{text:!0,children:[Object(_.jsx)(P.a,{as:"h3",style:{fontSize:"2em"},children:"Breaking The Grid, Grabs Your Attention"}),Object(_.jsx)("p",{style:{fontSize:"1.33em"},children:"Instead of focusing on content creation and hard work, we have learned how to master the art of doing nothing by providing massive amounts of whitespace and generic content that can seem massive, monolithic and worth your attention."}),Object(_.jsx)(k.a,{as:"a",size:"large",children:"Read More"}),Object(_.jsx)(T.a,{as:"h4",className:"header",horizontal:!0,style:{margin:"3em 0em",textTransform:"uppercase"}}),Object(_.jsx)(P.a,{as:"h3",style:{fontSize:"2em"},children:"Did We Tell You About Our Bananas?"}),Object(_.jsx)("p",{style:{fontSize:"1.33em"},children:"Yes I know you probably disregarded the earlier boasts as non-sequitur filler content, but it's really true. It took years of gene splicing and combinatory DNA research, but our bananas can really dance."}),Object(_.jsx)(k.a,{as:"a",size:"large",children:"I'm Still Quite Interested"})]})}),Object(_.jsx)(C.a,{inverted:!0,vertical:!0,style:{padding:"5em 0em"},children:Object(_.jsxs)(S.a,{children:[Object(_.jsx)(P.a,{as:"h4",inverted:!0,children:"About this project"}),Object(_.jsx)("p",{children:"Extra space for a call to action inside the footer that could help re-engage users."})]})})]})},z=n(12),A=n(146),F=n(228),N=n(221),G=n(224),M=n(145),B=function(e){var t=Object(c.useState)([]),n=Object(s.a)(t,2),i=n[0],a=n[1];return Object(c.useEffect)((function(){h().then((function(t){t.id&&e.history.push("/fields")}))}),[]),Object(_.jsx)("main",{children:Object(_.jsxs)(F.a,{style:{height:"100vh"},verticalAlign:"middle",children:[Object(_.jsxs)(F.a.Column,{width:6,style:{padding:"0 50px"},textAlign:"center",children:[Object(_.jsx)(P.a,{as:"h2",color:"teal",textAlign:"center",children:"Log-in to your account"}),Object(_.jsx)(N.a,{onSubmit:function(t){t.preventDefault();var n=t.currentTarget,c=new FormData(n),r={email:c.get("email"),password:c.get("password")};j(r).then((function(t){404===t.status?a([].concat(Object(A.a)(i),[{message:"Wrong email or Password"}])):(e.history.push("/fields"),"function"===typeof e.onSignIn&&e.onSignIn())}))},children:Object(_.jsxs)(C.a,{stacked:!0,children:[Object(_.jsx)(N.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"E-mail address",name:"email",id:"email"}),Object(_.jsx)(N.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",name:"password",id:"password"}),Object(_.jsx)(k.a,{color:"teal",fluid:!0,size:"large",children:"Login"})]})}),Object(_.jsxs)(G.a,{children:["New to us? ",Object(_.jsx)(w.b,{to:"/sign_up",children:"Sign Up"})]})]}),Object(_.jsx)(F.a.Column,{width:10,style:{height:"100%"},children:Object(_.jsx)(M.a,{style:{height:"100%"},src:"https://images.unsplash.com/photo-1558871585-4c3574a1b7cd?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8ZmllbGRzfGVufDB8fDB8fA%3D%3D&ixlib=rb-1.2.1&w=1000&q=80"})})]})})},E=function(e){return Object(c.useEffect)((function(){h().then((function(t){t.id&&e.history.push("/fields")}))}),[]),Object(_.jsx)("main",{children:Object(_.jsxs)(F.a,{style:{height:"100vh"},verticalAlign:"middle",children:[Object(_.jsxs)(F.a.Column,{width:6,style:{padding:"0 50px"},textAlign:"center",children:[Object(_.jsx)(P.a,{as:"h2",color:"teal",textAlign:"center",children:"Create a new account"}),Object(_.jsx)(N.a,{onSubmit:function(t){t.preventDefault();var n=t.currentTarget,c=new FormData(n),i={first_name:c.get("first_name"),last_name:c.get("last_name"),email:c.get("email"),password:c.get("password"),password_confirmation:c.get("password_confirmation")};b(i).then((function(t){t.id&&(e.onSignUp(),e.history.push("/fields"))}))},children:Object(_.jsxs)(C.a,{stacked:!0,children:[Object(_.jsx)(N.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"First Name",name:"first_name",id:"first_name",type:"text"}),Object(_.jsx)(N.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"Last Name",name:"last_name",id:"last_name",type:"text"}),Object(_.jsx)(N.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"E-mail address",name:"email",id:"email",type:"email"}),Object(_.jsx)(N.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",name:"password",id:"password"}),Object(_.jsx)(N.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password Confirmation",type:"password",name:"password_confirmation",id:"password_confirmation"}),Object(_.jsx)(k.a,{color:"teal",fluid:!0,size:"large",children:"Sign Up"})]})}),Object(_.jsxs)(G.a,{children:["Already a user? ",Object(_.jsx)(w.b,{to:"/sign_in",children:"Log-in"})]})]}),Object(_.jsx)(F.a.Column,{width:10,style:{height:"100%"},children:Object(_.jsx)(M.a,{style:{height:"100%"},src:"https://images.unsplash.com/photo-1558871585-4c3574a1b7cd?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8ZmllbGRzfGVufDB8fDB8fA%3D%3D&ixlib=rb-1.2.1&w=1000&q=80"})})]})})},L=function(){return Object(_.jsxs)("div",{children:[Object(_.jsx)("h1",{children:"Page not found"}),Object(_.jsx)("p",{children:"Sorry, the page you are looking for does not exist."})]})},R=n(218),J=n(223),U=n(55),H=n(219),W=n(220),K=n(229),Y=n(230),Z=n(141),V=n.n(Z),q=n(142),X=n.n(q),Q=function(e){var t=e.polygons,n=e.draw,i=void 0!==n&&n,a=e.geometry,r=e.setGeometry,o=e.preview,d=Object(c.useState)(null),j=Object(s.a)(d,2),u=j[0],h=j[1],b=Object(c.useState)(null),f=Object(s.a)(b,2),m=f[0],p=f[1],x=function(e){var t=e.polygon;return Object(_.jsx)("div",{children:Object(_.jsx)("a",{href:"/fields/".concat(t.field_id),children:"Visit field"})})};return Object(c.useEffect)((function(){a&&function(e,t){console.log("KML loaded"),l.geoJSON(t).addTo(u),u.addTo(e),e.fitBounds(u.getBounds())}(m,a),"undefined"!==typeof l&&m&&i&&(m.pm.addControls({position:"topleft",drawCircle:!1,drawCircleMarker:!1,drawPolyline:!1,drawRectangle:!1,drawMarker:!1,drawPolygon:!0,editMode:!0,dragMode:!1,cutPolygon:!1,deleteMode:!1,selectedPathOptions:{color:"#ff7800",weight:5,opacity:.65},selectedPathInteractive:!0,selectedPathDashArray:"10, 10",fullscreenControl:!1,draw:i}),m.on("pm:create",(function(e){var t=e.layer,n=e.shape;console.log("pm:create",t,n);var c=l.polygon(t._latlngs[0]).toGeoJSON().geometry;r(c),t.addTo(m)})),u.on("pm:update",(function(e){var t=e.layer;e.shape;console.log("edited");var n=l.polygon(t._latlngs[0]).toGeoJSON().geometry;r(n)})),console.log(u))}),[i,a,m,u]),Object(_.jsxs)(H.a,{style:{height:"95vh",margin:"0"},center:[49.212367,-122.921688],zoom:13,scrollWheelZoom:!1,children:[Object(_.jsx)(W.a,{ref:function(e){var t;t=e,console.log("FeatureGroup ready",t),h(t)}}),Object(_.jsx)(K.a,{children:function(e){p(e);var n=function(e,t){e.eachLayer((function(t){t._url||e.removeLayer(t)}));var n,c=l.latLngBounds([]),i=Object(U.a)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(o&&"base"===a.classification||!o){var r=V.a.wkt.parse(a.geom).addTo(e);if(o){var s=X.a.renderToString(Object(_.jsx)(x,{polygon:a}));r.bindPopup(s)}c.extend(r.getBounds().getCenter())}}}catch(d){i.e(d)}finally{i.f()}return c}(e,t);return n.isValid()&&e.fitBounds(n),console.log(e),null}}),Object(_.jsx)(Y.a,{attribution:'\xa9 <a href="http://osm.org/copyright">Google Maps</a>',url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",subdomains:["mt0","mt1","mt2","mt3"]})]})},$=function(e){var t=e.user,n=Object(c.useState)([]),i=Object(s.a)(n,2),a=i[0],r=i[1],o=Object(c.useState)(""),l=Object(s.a)(o,2),d=l[0],j=l[1],u=Object(c.useState)([]),h=Object(s.a)(u,2),b=h[0],m=h[1],p=Object(z.f)();Object(c.useEffect)((function(){f().then(r),t&&O(t.id).then(m)}),[t]);return Object(_.jsx)(F.a,{children:Object(_.jsxs)(F.a.Row,{children:[Object(_.jsxs)(F.a.Column,{width:4,style:{padding:"10px 25px 0 30px"},children:[Object(_.jsx)(R.a,{placeholder:"Search...",style:{width:"100%"},onChange:function(e,t){j(t.value)}}),Object(_.jsxs)(J.a,{relaxed:!0,children:[Object(_.jsxs)(J.a.Item,{className:"isInactive",onClick:function(){p.push("/fields/new")},verticalAlign:"middle",style:{padding:"5px",borderRadius:"5px",margin:"5px 0"},children:[Object(_.jsx)(J.a.Icon,{name:"plus circle",style:{fontSize:"2em"},color:"teal",verticalAlign:"middle"}),Object(_.jsx)(J.a.Content,{verticalAlign:"middle",children:Object(_.jsx)(J.a.Header,{as:"h3",children:"New Field"})})]},0),a.filter((function(e){return function(e){var t=e.name+e.crop_type+e.location;t=t.toLowerCase();var n=d.toLowerCase().split(" ");return!d||n.every((function(e){return t.includes(e)}))}(e)})).map((function(e){return Object(_.jsx)(J.a.Item,{className:"isInactive",style:{padding:"5px",borderRadius:"5px",margin:"5px 0"},children:Object(_.jsxs)(J.a.Content,{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(_.jsx)(w.b,{to:"/fields/".concat(e.id),children:Object(_.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(_.jsx)(J.a.Icon,{name:"map marker alternate",size:"large",verticalAlign:"middle",style:{marginLeft:"5px"}}),Object(_.jsxs)("div",{style:{marginLeft:"10px"},children:[Object(_.jsx)(J.a.Header,{children:e.name}),Object(_.jsxs)(J.a.Description,{children:[e.location," - ",e.crop_type]})]})]})}),Object(_.jsx)(k.a,{size:"tiny",onClick:function(){var t;t=e.id,window.confirm("Are you sure you want to delete this item?")&&x(t).then((function(){r(a.filter((function(e){return e.id!==t})))}))},children:Object(_.jsx)(I.a,{name:"trash",style:{margin:"0"}})})]})},e.id)}))]})]}),Object(_.jsx)(F.a.Column,{width:12,style:{padding:"0"},children:Object(_.jsx)(Q,{polygons:b,preview:!0})})]})})},ee=n(222),te=function(e){var t=e.currentUser,n=e.onSignOut,c=Object(z.f)();return t?Object(_.jsxs)(ee.a,{style:{marginBottom:0},children:[Object(_.jsx)(ee.a.Item,{children:Object(_.jsx)(w.b,{to:"/fields",children:Object(_.jsx)(P.a,{as:"h1",style:{margin:0},color:"teal",children:"Farmage"})})}),Object(_.jsxs)(ee.a.Menu,{position:"right",children:[Object(_.jsx)(ee.a.Item,{children:Object(_.jsx)(P.a,{as:"h3",children:t.full_name})}),Object(_.jsx)(ee.a.Item,{className:"logout-btn",name:"logout",onClick:function(){u().then((function(){n(),c.push("/")}))}})]})]}):""},ne=n(111),ce=n(112),ie=function(e){var t=e.setGeometry;return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("div",{className:"kml-upload__input",children:[Object(_.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(_.jsx)("h4",{style:{margin:"5px 0"},children:"a. Draw a polygon on the map"}),Object(_.jsx)("h4",{style:{margin:"5px 0"},children:"Or"}),Object(_.jsx)("h4",{style:{margin:"5px 0"},children:"b. Upload a KML file instead"})]}),Object(_.jsx)("input",{type:"file",name:"kml",accept:".kml",onChange:function(e){var n=new FileReader;n.onload=function(e){var n,c=(new ce.DOMParser).parseFromString(e.target.result,"application/xml"),i=Object(ne.kml)(c),a=[],r=Object(U.a)(i.features);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.geometry&&o.geometry.coordinates)a.push(o.geometry.coordinates);else if(o.geometry&&"GeometryCollection"===o.geometry.type){var s,l=Object(U.a)(o.geometry.geometries);try{for(l.s();!(s=l.n()).done;){var d=s.value;"Polygon"===d.type&&a.push(d.coordinates)}}catch(u){l.e(u)}finally{l.f()}}else 1===i.features.length&&(a=o.geometry.coordinates)}}catch(u){r.e(u)}finally{r.f()}var j={type:"FeatureCollection"!==i.type?"Polygon":"MultiPolygon",coordinates:a};t(j)},n.readAsText(e.target.files[0])}})]})})},ae=function(e){var t=e.user,n=e.geometry,c=e.setGeometry,i=Object(z.f)();return Object(_.jsxs)(N.a,{onSubmit:function(e){e.preventDefault();var c=e.currentTarget,a=new FormData(c),r={name:a.get("name"),location:a.get("location"),crop_type:a.get("crop_type"),user:t.id},o={classification:"base",geom:JSON.stringify(n),user:t.id};m(r).then((function(e){y(e.id,o).then((function(t){console.log(t),i.push("/fields/".concat(e.id))})).catch((function(e){console.log(e)}))}))},children:[Object(_.jsxs)(N.a.Field,{children:[Object(_.jsx)("label",{children:"Field Name"}),Object(_.jsx)("input",{placeholder:"Field Name",name:"name"})]}),Object(_.jsxs)(N.a.Field,{children:[Object(_.jsx)("label",{children:"Location"}),Object(_.jsx)("input",{placeholder:"Last Name",name:"location"})]}),Object(_.jsxs)(N.a.Field,{children:[Object(_.jsx)("label",{children:"Crop Type"}),Object(_.jsx)("input",{placeholder:"Crop Type",name:"crop_type"})]}),Object(_.jsx)(ie,{setGeometry:c}),Object(_.jsxs)(k.a.Group,{style:{marginTop:"30px",width:"100%"},children:[Object(_.jsx)(k.a,{onClick:function(){i.push("/fields")},children:"Cancel"}),Object(_.jsx)(k.a.Or,{}),Object(_.jsx)(k.a,{positive:!0,type:"submit",children:"Create"})]})]})},re=function(e){var t=e.user,n=Object(c.useState)(null),i=Object(s.a)(n,2),a=i[0],r=i[1],o=function(e){r(e),console.log(e)};return Object(_.jsx)(F.a,{children:Object(_.jsxs)(F.a.Row,{children:[Object(_.jsx)(F.a.Column,{width:4,style:{padding:"10px 25px 0 30px"},children:Object(_.jsx)(ae,{user:t,geometry:a,setGeometry:o})}),Object(_.jsx)(F.a.Column,{width:12,style:{padding:"0"},children:Object(_.jsx)(Q,{polygons:[],draw:!0,geometry:a,setGeometry:o})})]})})},oe=function(e){var t=e.toggleKml,n=e.user,c=e.field,i=e.setGeometry,a=e.geometry;Object(z.f)();return Object(_.jsxs)("div",{className:"kml-upload",children:[Object(_.jsx)("div",{className:"kml-upload__title",children:Object(_.jsx)("h4",{style:{marginBottom:"10px"},children:"1. Select a classification for your polygon"})}),Object(_.jsx)("div",{className:"kml-upload__input",children:Object(_.jsxs)(N.a,{onSubmit:function(e){e.preventDefault();var t=e.currentTarget,i={classification:new FormData(t).get("classification"),geom:JSON.stringify(a),user:n.id};y(c.id,i).then((function(e){window.location.reload()})).catch(console.error)},children:[Object(_.jsx)(N.a.Field,{style:{marginBottom:"5px"},children:Object(_.jsx)("input",{placeholder:"Polygon Classification",name:"classification"})}),Object(_.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(_.jsx)("h4",{style:{margin:"5px 0"},children:"2a. Draw a polygon on the map"}),Object(_.jsx)("h4",{style:{margin:"5px 0"},children:"Or"}),Object(_.jsx)("h4",{style:{margin:"5px 0"},children:"2b. Upload a KML file instead"})]}),Object(_.jsx)("input",{type:"file",name:"kml",accept:".kml",onChange:function(e){var t=new FileReader;t.onload=function(e){var t,n=(new ce.DOMParser).parseFromString(e.target.result,"application/xml"),c=Object(ne.kml)(n),a=[],r=Object(U.a)(c.features);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(o.geometry&&o.geometry.coordinates)a.push(o.geometry.coordinates);else if(o.geometry&&"GeometryCollection"===o.geometry.type){var s,l=Object(U.a)(o.geometry.geometries);try{for(l.s();!(s=l.n()).done;){var d=s.value;"Polygon"===d.type&&a.push(d.coordinates)}}catch(u){l.e(u)}finally{l.f()}}else 1===c.features.length&&(a=o.geometry.coordinates)}}catch(u){r.e(u)}finally{r.f()}var j={type:"FeatureCollection"!==c.type?"Polygon":"MultiPolygon",coordinates:a};i(j)},t.readAsText(e.target.files[0])}}),Object(_.jsxs)(k.a.Group,{style:{marginTop:"10px",width:"100%"},children:[Object(_.jsx)(k.a,{onClick:t,children:"Cancel"}),Object(_.jsx)(k.a.Or,{}),Object(_.jsx)(k.a,{positive:!0,children:"Create"})]})]})})]})},se=n(143),le=n(144),de=function(e){var t=e.polygons,n=e.field,i=e.user,a=e.selectedPolygon,r=e.setSelectedPolygon,o=e.setDraw,l=e.setGeometry,d=e.geometry,j=e.setPolygons,u=Object(c.useState)(!1),h=Object(s.a)(u,2),b=h[0],f=h[1],m=function(){f(!b),o(!b)};Object(c.useEffect)((function(){r(t[0])}),[t]);var p=function(e,t){var n=le(e.geom),c=se(n);!function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}("".concat(t.name," - ").concat(e.classification,".kml"),c)};return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(w.b,{to:"/fields",children:Object(_.jsxs)(k.a,{size:"tiny",children:[Object(_.jsx)(I.a,{name:"long arrow alternate left"}),"Back"]})}),Object(_.jsx)(P.a,{as:"h1",style:{marginBottom:"5px",marginTop:"10px"},children:n.name}),Object(_.jsxs)("p",{style:{marginBottom:"30px"},children:["Crop type: ",Object(_.jsx)("b",{children:n.crop_type})]}),Object(_.jsx)(P.a,{as:"h3",children:"Polygons"}),Object(_.jsxs)(J.a,{relaxed:!0,children:[Object(_.jsxs)(J.a.Item,{children:[Object(_.jsx)(J.a.Icon,{name:"plus circle",size:"large",color:"green",verticalAlign:"middle"}),Object(_.jsxs)(J.a.Content,{children:[Object(_.jsx)(J.a.Header,{as:"a",onClick:m,children:"New Polygon"}),b?Object(_.jsx)(oe,{user:i,field:n,toggleKml:m,setGeometry:l,geometry:d}):""]})]}),t.map((function(e){return Object(_.jsx)(J.a.Item,{style:{padding:"5px",borderRadius:"5px",margin:"5px 0"},className:e===a?"isActive":"isInactive",onClick:function(){r(e)},children:Object(_.jsxs)(J.a.Content,{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(_.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(_.jsx)(J.a.Icon,{name:"map",size:"large",verticalAlign:"middle",style:{margin:"0 15px 0 5px"}}),Object(_.jsxs)("div",{children:[Object(_.jsx)(J.a.Header,{children:e.classification}),Object(_.jsxs)(J.a.Description,{children:[e.area," ha"]})]})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)(k.a,{size:"tiny",onClick:function(){o(!0)},children:Object(_.jsx)(I.a,{name:"pencil",style:{margin:"0"}})}),Object(_.jsx)(k.a,{size:"tiny",onClick:function(){p(e,n)},children:Object(_.jsx)(I.a,{name:"download",style:{margin:"0"}})}),Object(_.jsx)(k.a,{size:"tiny",onClick:function(){var n;n=e.id,window.confirm("Are you sure you want to delete this item?")&&v(n).then((function(){j(t.filter((function(e){return e.id!==n})))}))},children:Object(_.jsx)(I.a,{name:"trash",style:{margin:"0"}})})]})]})},e.id)}))]})]})},je=function(e){var t=e.user,n=e.match,i=Object(c.useState)({}),a=Object(s.a)(i,2),r=a[0],o=a[1],l=Object(c.useState)([]),d=Object(s.a)(l,2),j=d[0],u=d[1],h=Object(c.useState)(),b=Object(s.a)(h,2),f=b[0],m=b[1],x=Object(c.useState)(!1),O=Object(s.a)(x,2),y=O[0],v=O[1],w=Object(c.useState)(null),C=Object(s.a)(w,2),S=C[0],P=C[1];return Object(c.useEffect)((function(){p(n.params.id).then(o),g(n.params.id).then((function(e){u(e),m(e[0])}))}),[]),Object(_.jsx)(F.a,{children:Object(_.jsxs)(F.a.Row,{children:[Object(_.jsx)(F.a.Column,{width:4,style:{padding:"10px 25px 0 30px"},children:Object(_.jsx)(de,{polygons:j,field:r,user:t,setPolygons:u,selectedPolygon:f,setSelectedPolygon:m,setDraw:v,setGeometry:P,geometry:S})}),Object(_.jsx)(F.a.Column,{width:12,style:{padding:"0"},children:Object(_.jsx)(Q,{setGeometry:P,geometry:S,polygons:f?[f]:[],draw:y})})]})})};var ue=function(){var e=Object(c.useState)(null),t=Object(s.a)(e,2),n=t[0],i=t[1],a=function(){return h().then((function(e){e.id&&i(e)}))};return Object(c.useEffect)((function(){a()}),[]),Object(_.jsx)("div",{className:"App",children:Object(_.jsxs)(w.a,{children:[Object(_.jsx)(te,{currentUser:n,onSignOut:function(){i(null)}}),Object(_.jsxs)(z.c,{children:[Object(_.jsx)(z.a,{exact:!0,path:"/",render:function(e){return Object(_.jsx)(D,Object(o.a)(Object(o.a)({},e),{},{user:n}))}}),Object(_.jsx)(z.a,{exact:!0,path:"/fields",render:function(e){return Object(_.jsx)($,Object(o.a)(Object(o.a)({},e),{},{user:n}))}}),Object(_.jsx)(z.a,{exact:!0,path:"/fields/new",render:function(e){return Object(_.jsx)(re,Object(o.a)(Object(o.a)({},e),{},{user:n}))}}),Object(_.jsx)(z.a,{exact:!0,path:"/fields/:id",render:function(e){return Object(_.jsx)(je,Object(o.a)(Object(o.a)({},e),{},{user:n}))}}),Object(_.jsx)(z.a,{exact:!0,path:"/sign_in",render:function(e){return Object(_.jsx)(B,Object(o.a)(Object(o.a)({},e),{},{onSignIn:a}))}}),Object(_.jsx)(z.a,{exact:!0,path:"/sign_up",render:function(e){return Object(_.jsx)(E,Object(o.a)(Object(o.a)({},e),{},{onSignUp:a}))}}),Object(_.jsx)(z.a,{component:L})]})]})})},he=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,231)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),a(e),r(e)}))};r.a.render(Object(_.jsx)(i.a.StrictMode,{children:Object(_.jsx)(ue,{})}),document.getElementById("root")),he()}},[[200,1,2]]]);
//# sourceMappingURL=main.ac954d7b.chunk.js.map